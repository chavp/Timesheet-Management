@{
    ViewBag.Title = "Report";
}

@Html.Partial("_BasicTemplate", new PJ_CWN019.TM.Web.Models.TemplateView
    {
        MainPanelID = "searchReportsPanel",
        MainIcon = "glyphicon glyphicon-file",
        MainTitle = "Report",
    })

@section scripts{
    <script>
        paramsView.urlGetReport = '@Url.Content("~/Timesheet/GetReport")';
        paramsView.isOwner = '@ViewBag.IsOwner';

        @if(@Roles.IsUserInRole("Manager")){
        <text>
        paramsView.isManagerRole = true;
        paramsView.urlExportReport = '@Url.Content("~/Timesheet/ExportReportForManager")';
        </text>
        }else{ // Member
        <text> 
        paramsView.urlExportReport = '@Url.Content("~/Timesheet/ExportReport")';
        </text>
        }

        paramsView.urlReadProject = '@Url.Content("~/Project/FindProject")';
        paramsView.urlReadEmployee = '@Url.Content("~/Project/FindEmployee")';

        paramsView.firstDayOfMonth = '@ViewBag.FirstDayOfMonth';
        paramsView.lastDayOfMonth = '@ViewBag.LastDayOfMonth';
        paramsView.minDateText = '@ViewBag.MinDate';
        paramsView.maxDateText = '@ViewBag.MaxDate';
    </script>
    <script src="@Url.Content("~/app/onReady/Timesheet/Report.js")"></script>
}
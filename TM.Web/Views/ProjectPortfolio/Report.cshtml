@{
    ViewBag.Title = "Report";
}

@Html.Partial("_BasicTemplate", new PJ_CWN019.TM.Web.Models.TemplateView
    {
        MainPanelID = "searchReportsPanel",
        MainIcon = "glyphicon glyphicon-file",
        MainTitle = "Report",
    })

@section scripts{
    <script>
        paramsView.urlGetReport = '@Url.Content("~/ProjectPortfolio/GetReport")';
        paramsView.urlExportReport = '@Url.Content("~/ProjectPortfolio/ExportReport")';

        paramsView.urlReadProject = '@Url.Content("~/ProjectPortfolio/ReadProject")';
        paramsView.urlReadEmployee = '@Url.Content("~/ProjectPortfolio/ReadEmployee")';
        paramsView.urlReadDepartment = '@Url.Content("~/ProjectPortfolio/ReadDepartment")';

        @if (Roles.IsUserInRole(PJ_CWN019.TM.Web.Models.Providers.ConstAppRoles.Executive) 
        || Roles.IsUserInRole(PJ_CWN019.TM.Web.Models.Providers.ConstAppRoles.Admin))
        {
            <text>paramsView.canCheckAllTime = true;</text>
        }

        paramsView.firstDayOfMonth = '@ViewBag.FirstDayOfMonth';
        paramsView.lastDayOfMonth = '@ViewBag.LastDayOfMonth';
        paramsView.minDateText = '@ViewBag.MinDate';
        paramsView.maxDateText = "@ViewBag.MaxDate";

    </script>
    <script src="@Url.Content("~/app/onReady/ProjectPortfolio/Report.js")"></script>
}